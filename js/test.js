// koffee 1.14.0

/*
000000000  00000000   0000000  000000000
   000     000       000          000   
   000     0000000   0000000      000   
   000     000            000     000   
   000     00000000  0000000      000
 */
var chai, cls, kstr, ls, slash;

chai = require('chai');

slash = require('kslash');

kstr = require('kstr');

chai.should();

ls = require('../');

cls = function() {
    var lines, raw, stripped, trimmed;
    raw = ls.apply(ls, arguments);
    stripped = kstr.stripAnsi(raw);
    lines = stripped.split('\n');
    trimmed = lines.map(function(s) {
        return s.trim();
    });
    trimmed.lines = lines;
    trimmed.clrzd = raw.split('\n');
    return trimmed;
};

describe('ls', function() {
    it('module', function() {
        return ls.should.be.an('function');
    });
    it('ls', function() {
        var out;
        out = cls();
        out.should.include('js');
        out.should.include('bin');
        out.should.include('coffee');
        out.should.include('node_modules');
        out.should.include('package.noon');
        out.should.include('package.json');
        return out.should.include('readme.md');
    });
    it('ls .', function() {
        var out;
        out = cls('.');
        out.should.include('js');
        out.should.include('bin');
        out.should.include('coffee');
        out.should.include('node_modules');
        out.should.include('package.noon');
        out.should.include('package.json');
        return out.should.include('readme.md');
    });
    it('ls bin', function() {
        var out;
        out = cls('./bin');
        out.should.include('img');
        out.should.include('test');
        return out.should.include('color-ls');
    });
    it('cd bin/test and ls .', function() {
        var out;
        process.chdir('./bin/test');
        out = cls('.');
        return out.should.include('Makefile');
    });
    it('offset', function() {
        var out;
        out = cls('.', {
            offset: true
        });
        out.lines.should.include('        Makefile');
        return out.lines.should.include('        coffee.coffee');
    });
    it('tree', function() {
        var out;
        out = cls('a', {
            tree: true,
            depth: 99,
            followSymLinks: true
        });
        out[1].should.include('a');
        out[2].should.include('a.b.c');
        out[3].should.include('a.txt');
        out[4].should.include('txt.txt');
        out[5].should.include('b');
        if (!slash.win()) {
            return out[6].should.include('b.lnk ► b.txt');
        }
    });
    return it('recursive', function() {
        var out;
        out = cls('a', {
            recurse: true,
            depth: 99,
            followSymLinks: true
        });
        out[1].should.include('▶ a');
        out[3].should.include('b');
        out[4].should.include('a.b.c');
        out[5].should.include('a.txt');
        out[6].should.include('txt.txt');
        out[8].should.include('▶ a/b');
        out[10].should.include('c');
        if (!slash.win()) {
            return out[11].should.include('b.lnk ► b.txt');
        }
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC5qcyIsInNvdXJjZVJvb3QiOiIuLi9jb2ZmZWUiLCJzb3VyY2VzIjpbInRlc3QuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7Ozs7QUFBQSxJQUFBOztBQVFBLElBQUEsR0FBUSxPQUFBLENBQVEsTUFBUjs7QUFDUixLQUFBLEdBQVEsT0FBQSxDQUFRLFFBQVI7O0FBQ1IsSUFBQSxHQUFRLE9BQUEsQ0FBUSxNQUFSOztBQUVSLElBQUksQ0FBQyxNQUFMLENBQUE7O0FBRUEsRUFBQSxHQUFLLE9BQUEsQ0FBUSxLQUFSOztBQUVMLEdBQUEsR0FBTSxTQUFBO0FBRUYsUUFBQTtJQUFBLEdBQUEsR0FBTSxFQUFFLENBQUMsS0FBSCxDQUFTLEVBQVQsRUFBYSxTQUFiO0lBQ04sUUFBQSxHQUFXLElBQUksQ0FBQyxTQUFMLENBQWUsR0FBZjtJQUNYLEtBQUEsR0FBUSxRQUFRLENBQUMsS0FBVCxDQUFlLElBQWY7SUFDUixPQUFBLEdBQVUsS0FBSyxDQUFDLEdBQU4sQ0FBVSxTQUFDLENBQUQ7ZUFBTyxDQUFDLENBQUMsSUFBRixDQUFBO0lBQVAsQ0FBVjtJQUNWLE9BQU8sQ0FBQyxLQUFSLEdBQWdCO0lBQ2hCLE9BQU8sQ0FBQyxLQUFSLEdBQWdCLEdBQUcsQ0FBQyxLQUFKLENBQVUsSUFBVjtXQUNoQjtBQVJFOztBQVVOLFFBQUEsQ0FBUyxJQUFULEVBQWMsU0FBQTtJQUVWLEVBQUEsQ0FBRyxRQUFILEVBQVksU0FBQTtlQUVSLEVBQUUsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEVBQWIsQ0FBZ0IsVUFBaEI7SUFGUSxDQUFaO0lBSUEsRUFBQSxDQUFHLElBQUgsRUFBUSxTQUFBO0FBRUosWUFBQTtRQUFBLEdBQUEsR0FBTSxHQUFBLENBQUE7UUFDTixHQUFHLENBQUMsTUFBTSxDQUFDLE9BQVgsQ0FBbUIsSUFBbkI7UUFDQSxHQUFHLENBQUMsTUFBTSxDQUFDLE9BQVgsQ0FBbUIsS0FBbkI7UUFDQSxHQUFHLENBQUMsTUFBTSxD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LEVBQU0sRUFBckI7WUFBeUIsY0FBQSxFQUFlLElBQXhDO1NBQVI7UUFFTixHQUFJLENBQUEsQ0FBQSxDQUFFLENBQUMsTUFBTSxDQUFDLE9BQWQsQ0FBc0IsS0FBdEI7UUFFQSxHQUFJLENBQUEsQ0FBQSxDQUFFLENBQUMsTUFBTSxDQUFDLE9BQWQsQ0FBc0IsR0FBdEI7UUFDQSxHQUFJLENBQUEsQ0FBQSxDQUFFLENBQUMsTUFBTSxDQUFDLE9BQWQsQ0FBc0IsT0FBdEI7UUFDQSxHQUFJLENBQUEsQ0FBQSxDQUFFLENBQUMsTUFBTSxDQUFDLE9BQWQsQ0FBc0IsT0FBdEI7UUFDQSxHQUFJLENBQUEsQ0FBQSxDQUFFLENBQUMsTUFBTSxDQUFDLE9BQWQsQ0FBc0IsU0FBdEI7UUFDQSxHQUFJLENBQUEsQ0FBQSxDQUFFLENBQUMsTUFBTSxDQUFDLE9BQWQsQ0FBc0IsT0FBdEI7UUFFQSxHQUFJLENBQUEsRUFBQSxDQUFHLENBQUMsTUFBTSxDQUFDLE9BQWYsQ0FBdUIsR0FBdkI7UUFFQSxJQUFHLENBQUksS0FBSyxDQUFDLEdBQU4sQ0FBQSxDQUFQO21CQUNJLEdBQUksQ0FBQSxFQUFBLENBQUcsQ0FBQyxNQUFNLENBQUMsT0FBZixDQUF1QixlQUF2QixFQURKOztJQWRXLENBQWY7QUE1RFUsQ0FBZCIsInNvdXJjZXNDb250ZW50IjpbIiMjI1xuMDAwMDAwMDAwICAwMDAwMDAwMCAgIDAwMDAwMDAgIDAwMDAwMDAwMFxuICAgMDAwICAgICAwMDAgICAgICAgMDAwICAgICAgICAgIDAwMCAgIFxuICAgMDAwICAgICAwMDAwMDAwICAgMDAwMDAwMCAgICAgIDAwMCAgIFxuICAgMDAwICAgICAwMDAgICAgICAgICAgICAwMDAgICAgIDAwMCAgIFxuICAgMDAwICAgICAwMDAwMDAwMCAgMDAwMDAwMCAgICAgIDAwMCAgIFxuIyMjXG5cbmNoYWkgID0gcmVxdWlyZSAnY2hhaSdcbnNsYXNoID0gcmVxdWlyZSAna3NsYXNoJ1xua3N0ciAgPSByZXF1aXJlICdrc3RyJ1xuXG5jaGFpLnNob3VsZCgpXG5cbmxzID0gcmVxdWlyZSAnLi4vJ1xuXG5jbHMgPSAtPiBcbiAgICBcbiAgICByYXcgPSBscy5hcHBseSBscywgYXJndW1lbnRzXG4gICAgc3RyaXBwZWQgPSBrc3RyLnN0cmlwQW5zaSByYXdcbiAgICBsaW5lcyA9IHN0cmlwcGVkLnNwbGl0ICdcXG4nXG4gICAgdHJpbW1lZCA9IGxpbmVzLm1hcCAocykgLT4gcy50cmltKClcbiAgICB0cmltbWVkLmxpbmVzID0gbGluZXNcbiAgICB0cmltbWVkLmNscnpkID0gcmF3LnNwbGl0ICdcXG4nXG4gICAgdHJpbW1lZFxuXG5kZXNjcmliZSAnbHMnIC0+XG4gICAgICAgICAgIFxuICAgIGl0ICdtb2R1bGUnIC0+XG4gICAgICAgIFxuICAgICAgICBscy5zaG91bGQuYmUuYW4gJ2Z1bmN0aW9uJ1xuICAgICAgICBcbiAgICBpdCAnbHMnIC0+XG4gICAgICAgIFxuICAgICAgICBvdXQgPSBjbHMoKVxuICAgICAgICBvdXQuc2hvdWxkLmluY2x1ZGUgJ2pzJ1xuICAgICAgICBvdXQuc2hvdWxkLmluY2x1ZGUgJ2JpbidcbiAgICAgICAgb3V0LnNob3VsZC5pbmNsdWRlICdjb2ZmZWUnXG4gICAgICAgIG91dC5zaG91bGQuaW5jbHVkZSAnbm9kZV9tb2R1bGVzJ1xuICAgICAgICBvdXQuc2hvdWxkLmluY2x1ZGUgJ3BhY2thZ2Uubm9vbidcbiAgICAgICAgb3V0LnNob3VsZC5pbmNsdWRlICdwYWNrYWdlLmpzb24nXG4gICAgICAgIG91dC5zaG91bGQuaW5jbHVkZSAncmVhZG1lLm1kJ1xuICAgICAgICBcbiAgICBpdCAnbHMgLicgLT5cbiAgICAgICAgXG4gICAgICAgIG91dCA9IGNscyAnLidcbiAgICAgICAgb3V0LnNob3VsZC5pbmNsdWRlICdqcydcbiAgICAgICAgb3V0LnNob3VsZC5pbmNsdWRlICdiaW4nXG4gICAgICAgIG91dC5zaG91bGQuaW5jbHVkZSAnY29mZmVlJ1xuICAgICAgICBvdXQuc2hvdWxkLmluY2x1ZGUgJ25vZGVfbW9kdWxlcydcbiAgICAgICAgb3V0LnNob3VsZC5pbmNsdWRlICdwYWNrYWdlLm5vb24nXG4gICAgICAgIG91dC5zaG91bGQuaW5jbHVkZSAncGFja2FnZS5qc29uJ1xuICAgICAgICBvdXQuc2hvdWxkLmluY2x1ZGUgJ3JlYWRtZS5tZCdcbiAgICAgICAgXG4gICAgaXQgJ2xzIGJpbicgLT5cbiAgICAgICAgXG4gICAgICAgIG91dCA9IGNscyAnLi9iaW4nXG4gICAgICAgIG91dC5zaG91bGQuaW5jbHVkZSAnaW1nJ1xuICAgICAgICBvdXQuc2hvdWxkLmluY2x1ZGUgJ3Rlc3QnXG4gICAgICAgIG91dC5zaG91bGQuaW5jbHVkZSAnY29sb3ItbHMnXG5cbiAgICBpdCAnY2QgYmluL3Rlc3QgYW5kIGxzIC4nIC0+XG4gICAgICAgIFxuICAgICAgICBwcm9jZXNzLmNoZGlyICcuL2Jpbi90ZXN0J1xuICAgICAgICBvdXQgPSBjbHMgJy4nXG4gICAgICAgIG91dC5zaG91bGQuaW5jbHVkZSAnTWFrZWZpbGUnXG4gICAgICAgIFxuICAgIGl0ICdvZmZzZXQnIC0+XG4gICAgICAgIFxuICAgICAgICBvdXQgPSBjbHMgJy4nLCB7b2Zmc2V0OnRydWV9XG4gICAgICAgIG91dC5saW5lcy5zaG91bGQuaW5jbHVkZSAnICAgICAgICBNYWtlZmlsZSdcbiAgICAgICAgb3V0LmxpbmVzLnNob3VsZC5pbmNsdWRlICcgICAgICAgIGNvZmZlZS5jb2ZmZWUnXG4gICAgXG4gICAgaXQgJ3RyZWUnIC0+ICMgdG9kbzogdGVzdCBkZXB0aFxuICAgICAgICBcbiAgICAgICAgb3V0ID0gY2xzICdhJyB7dHJlZTp0cnVlLCBkZXB0aDo5OSwgZm9sbG93U3ltTGlua3M6dHJ1ZX1cblxuICAgICAgICBvdXRbMV0uc2hvdWxkLmluY2x1ZGUgJ2EnXG4gICAgICAgIG91dFsyXS5zaG91bGQuaW5jbHVkZSAnYS5iLmMnXG4gICAgICAgIG91dFszXS5zaG91bGQuaW5jbHVkZSAnYS50eHQnXG4gICAgICAgIG91dFs0XS5zaG91bGQuaW5jbHVkZSAndHh0LnR4dCcgICAgICAgIFxuICAgICAgICBvdXRbNV0uc2hvdWxkLmluY2x1ZGUgJ2InXG4gICAgICAgIFxuICAgICAgICBpZiBub3Qgc2xhc2gud2luKClcbiAgICAgICAgICAgIG91dFs2XS5zaG91bGQuaW5jbHVkZSAnYi5sbmsg4pa6IGIudHh0J1xuICAgICAgICBcbiAgICBpdCAncmVjdXJzaXZlJyAtPlxuICAgICAgICBcbiAgICAgICAgb3V0ID0gY2xzICdhJyB7cmVjdXJzZTp0cnVlLCBkZXB0aDo5OSwgZm9sbG93U3ltTGlua3M6dHJ1ZX1cbiAgICAgICAgXG4gICAgICAgIG91dFsxXS5zaG91bGQuaW5jbHVkZSAn4pa2IGEnXG4gICAgICAgIFxuICAgICAgICBvdXRbM10uc2hvdWxkLmluY2x1ZGUgJ2InXG4gICAgICAgIG91dFs0XS5zaG91bGQuaW5jbHVkZSAnYS5iLmMnXG4gICAgICAgIG91dFs1XS5zaG91bGQuaW5jbHVkZSAnYS50eHQnICAgICAgICBcbiAgICAgICAgb3V0WzZdLnNob3VsZC5pbmNsdWRlICd0eHQudHh0JyAgICAgICAgXG4gICAgICAgIG91dFs4XS5zaG91bGQuaW5jbHVkZSAn4pa2IGEvYidcbiAgICAgICAgXG4gICAgICAgIG91dFsxMF0uc2hvdWxkLmluY2x1ZGUgJ2MnXG4gICAgICAgIFxuICAgICAgICBpZiBub3Qgc2xhc2gud2luKClcbiAgICAgICAgICAgIG91dFsxMV0uc2hvdWxkLmluY2x1ZGUgJ2IubG5rIOKWuiBiLnR4dCdcbiAgICAgICAgXG4gICAgICAgICJdfQ==
//# sourceURL=../coffee/test.coffee