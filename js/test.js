// koffee 1.14.0

/*
000000000  00000000   0000000  000000000
   000     000       000          000   
   000     0000000   0000000      000   
   000     000            000     000   
   000     00000000  0000000      000
 */
var chai, cls, kstr, ls, slash;

chai = require('chai');

slash = require('kslash');

kstr = require('kstr');

chai.should();

ls = require('../');

cls = function() {
    var lines, raw, stripped, trimmed;
    raw = ls.apply(ls, arguments);
    stripped = kstr.stripAnsi(raw);
    lines = stripped.split('\n');
    trimmed = lines.map(function(s) {
        return s.trim();
    });
    trimmed.lines = lines;
    trimmed.clrzd = raw.split('\n');
    return trimmed;
};

describe('ls', function() {
    it('module', function() {
        return ls.should.be.an('function');
    });
    it('ls', function() {
        var out;
        out = cls();
        out.should.include('js');
        out.should.include('bin');
        out.should.include('coffee');
        out.should.include('node_modules');
        out.should.include('package.noon');
        out.should.include('package.json');
        return out.should.include('readme.md');
    });
    it('ls .', function() {
        var out;
        out = cls('.');
        out.should.include('js');
        out.should.include('bin');
        out.should.include('coffee');
        out.should.include('node_modules');
        out.should.include('package.noon');
        out.should.include('package.json');
        return out.should.include('readme.md');
    });
    it('ls bin', function() {
        var out;
        out = cls('./bin');
        out.should.include('img');
        out.should.include('test');
        return out.should.include('color-ls');
    });
    it('cd bin/test and ls .', function() {
        var out;
        process.chdir('./bin/test');
        out = cls('.');
        return out.should.include('Makefile');
    });
    it('offset', function() {
        var out;
        out = cls('.', {
            offset: true
        });
        out.lines.should.include('        Makefile');
        return out.lines.should.include('        coffee.coffee');
    });
    it('tree', function() {
        var out;
        out = cls('a', {
            tree: true,
            depth: 99
        });
        out[1].should.include('a');
        out[2].should.include('a.b.c');
        out[3].should.include('a.txt');
        out[4].should.include('txt.txt');
        out[5].should.include('b');
        if (!slash.win()) {
            return out[6].should.include('b.lnk ► b.txt');
        }
    });
    return it('recursive', function() {
        var out;
        out = cls('a', {
            recurse: true,
            depth: 99
        });
        out[1].should.include('▶ a');
        out[3].should.include('b');
        out[4].should.include('a.b.c');
        out[5].should.include('a.txt');
        out[6].should.include('txt.txt');
        out[8].should.include('▶ a/b');
        out[10].should.include('c');
        if (!slash.win()) {
            return out[11].should.include('b.lnk ► b.txt');
        }
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC5qcyIsInNvdXJjZVJvb3QiOiIuLi9jb2ZmZWUiLCJzb3VyY2VzIjpbInRlc3QuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7Ozs7QUFBQSxJQUFBOztBQVFBLElBQUEsR0FBUSxPQUFBLENBQVEsTUFBUjs7QUFDUixLQUFBLEdBQVEsT0FBQSxDQUFRLFFBQVI7O0FBQ1IsSUFBQSxHQUFRLE9BQUEsQ0FBUSxNQUFSOztBQUVSLElBQUksQ0FBQyxNQUFMLENBQUE7O0FBRUEsRUFBQSxHQUFLLE9BQUEsQ0FBUSxLQUFSOztBQUVMLEdBQUEsR0FBTSxTQUFBO0FBRUYsUUFBQTtJQUFBLEdBQUEsR0FBTSxFQUFFLENBQUMsS0FBSCxDQUFTLEVBQVQsRUFBYSxTQUFiO0lBQ04sUUFBQSxHQUFXLElBQUksQ0FBQyxTQUFMLENBQWUsR0FBZjtJQUNYLEtBQUEsR0FBUSxRQUFRLENBQUMsS0FBVCxDQUFlLElBQWY7SUFDUixPQUFBLEdBQVUsS0FBSyxDQUFDLEdBQU4sQ0FBVSxTQUFDLENBQUQ7ZUFBTyxDQUFDLENBQUMsSUFBRixDQUFBO0lBQVAsQ0FBVjtJQUNWLE9BQU8sQ0FBQyxLQUFSLEdBQWdCO0lBQ2hCLE9BQU8sQ0FBQyxLQUFSLEdBQWdCLEdBQUcsQ0FBQyxLQUFKLENBQVUsSUFBVjtXQUNoQjtBQVJFOztBQVVOLFFBQUEsQ0FBUyxJQUFULEVBQWMsU0FBQTtJQUVWLEVBQUEsQ0FBRyxRQUFILEVBQVksU0FBQTtlQUVSLEVBQUUsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEVBQWIsQ0FBZ0IsVUFBaEI7SUFGUSxDQUFaO0lBSUEsRUFBQSxDQUFHLElBQUgsRUFBUSxTQUFBO0FBRUosWUFBQTtRQUFBLEdBQUEsR0FBTSxHQUFBLENBQUE7UUFDTixHQUFHLENBQUMsTUFBTSxDQUFDLE9BQVgsQ0FBbUIsSUFBbkI7UUFDQSxHQUFHLENBQUMsTUFBTSxDQUFDLE9BQVgsQ0FBbUIsS0FBbkI7UUFDQSxHQUFHLENBQUMsTUFBTSxD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R0FBSSxDQUFBLENBQUEsQ0FBRSxDQUFDLE1BQU0sQ0FBQyxPQUFkLENBQXNCLEtBQXRCO1FBRUEsR0FBSSxDQUFBLENBQUEsQ0FBRSxDQUFDLE1BQU0sQ0FBQyxPQUFkLENBQXNCLEdBQXRCO1FBQ0EsR0FBSSxDQUFBLENBQUEsQ0FBRSxDQUFDLE1BQU0sQ0FBQyxPQUFkLENBQXNCLE9BQXRCO1FBQ0EsR0FBSSxDQUFBLENBQUEsQ0FBRSxDQUFDLE1BQU0sQ0FBQyxPQUFkLENBQXNCLE9BQXRCO1FBQ0EsR0FBSSxDQUFBLENBQUEsQ0FBRSxDQUFDLE1BQU0sQ0FBQyxPQUFkLENBQXNCLFNBQXRCO1FBQ0EsR0FBSSxDQUFBLENBQUEsQ0FBRSxDQUFDLE1BQU0sQ0FBQyxPQUFkLENBQXNCLE9BQXRCO1FBRUEsR0FBSSxDQUFBLEVBQUEsQ0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFmLENBQXVCLEdBQXZCO1FBRUEsSUFBRyxDQUFJLEtBQUssQ0FBQyxHQUFOLENBQUEsQ0FBUDttQkFDSSxHQUFJLENBQUEsRUFBQSxDQUFHLENBQUMsTUFBTSxDQUFDLE9BQWYsQ0FBdUIsZUFBdkIsRUFESjs7SUFiVyxDQUFmO0FBM0RVLENBQWQiLCJzb3VyY2VzQ29udGVudCI6WyIjIyNcbjAwMDAwMDAwMCAgMDAwMDAwMDAgICAwMDAwMDAwICAwMDAwMDAwMDBcbiAgIDAwMCAgICAgMDAwICAgICAgIDAwMCAgICAgICAgICAwMDAgICBcbiAgIDAwMCAgICAgMDAwMDAwMCAgIDAwMDAwMDAgICAgICAwMDAgICBcbiAgIDAwMCAgICAgMDAwICAgICAgICAgICAgMDAwICAgICAwMDAgICBcbiAgIDAwMCAgICAgMDAwMDAwMDAgIDAwMDAwMDAgICAgICAwMDAgICBcbiMjI1xuXG5jaGFpICA9IHJlcXVpcmUgJ2NoYWknXG5zbGFzaCA9IHJlcXVpcmUgJ2tzbGFzaCdcbmtzdHIgID0gcmVxdWlyZSAna3N0cidcblxuY2hhaS5zaG91bGQoKVxuXG5scyA9IHJlcXVpcmUgJy4uLydcblxuY2xzID0gLT4gXG4gICAgXG4gICAgcmF3ID0gbHMuYXBwbHkgbHMsIGFyZ3VtZW50c1xuICAgIHN0cmlwcGVkID0ga3N0ci5zdHJpcEFuc2kgcmF3XG4gICAgbGluZXMgPSBzdHJpcHBlZC5zcGxpdCAnXFxuJ1xuICAgIHRyaW1tZWQgPSBsaW5lcy5tYXAgKHMpIC0+IHMudHJpbSgpXG4gICAgdHJpbW1lZC5saW5lcyA9IGxpbmVzXG4gICAgdHJpbW1lZC5jbHJ6ZCA9IHJhdy5zcGxpdCAnXFxuJ1xuICAgIHRyaW1tZWRcblxuZGVzY3JpYmUgJ2xzJyAtPlxuICAgICAgICAgICBcbiAgICBpdCAnbW9kdWxlJyAtPlxuICAgICAgICBcbiAgICAgICAgbHMuc2hvdWxkLmJlLmFuICdmdW5jdGlvbidcbiAgICAgICAgXG4gICAgaXQgJ2xzJyAtPlxuICAgICAgICBcbiAgICAgICAgb3V0ID0gY2xzKClcbiAgICAgICAgb3V0LnNob3VsZC5pbmNsdWRlICdqcydcbiAgICAgICAgb3V0LnNob3VsZC5pbmNsdWRlICdiaW4nXG4gICAgICAgIG91dC5zaG91bGQuaW5jbHVkZSAnY29mZmVlJ1xuICAgICAgICBvdXQuc2hvdWxkLmluY2x1ZGUgJ25vZGVfbW9kdWxlcydcbiAgICAgICAgb3V0LnNob3VsZC5pbmNsdWRlICdwYWNrYWdlLm5vb24nXG4gICAgICAgIG91dC5zaG91bGQuaW5jbHVkZSAncGFja2FnZS5qc29uJ1xuICAgICAgICBvdXQuc2hvdWxkLmluY2x1ZGUgJ3JlYWRtZS5tZCdcbiAgICAgICAgXG4gICAgaXQgJ2xzIC4nIC0+XG4gICAgICAgIFxuICAgICAgICBvdXQgPSBjbHMgJy4nXG4gICAgICAgIG91dC5zaG91bGQuaW5jbHVkZSAnanMnXG4gICAgICAgIG91dC5zaG91bGQuaW5jbHVkZSAnYmluJ1xuICAgICAgICBvdXQuc2hvdWxkLmluY2x1ZGUgJ2NvZmZlZSdcbiAgICAgICAgb3V0LnNob3VsZC5pbmNsdWRlICdub2RlX21vZHVsZXMnXG4gICAgICAgIG91dC5zaG91bGQuaW5jbHVkZSAncGFja2FnZS5ub29uJ1xuICAgICAgICBvdXQuc2hvdWxkLmluY2x1ZGUgJ3BhY2thZ2UuanNvbidcbiAgICAgICAgb3V0LnNob3VsZC5pbmNsdWRlICdyZWFkbWUubWQnXG4gICAgICAgIFxuICAgIGl0ICdscyBiaW4nIC0+XG4gICAgICAgIFxuICAgICAgICBvdXQgPSBjbHMgJy4vYmluJ1xuICAgICAgICBvdXQuc2hvdWxkLmluY2x1ZGUgJ2ltZydcbiAgICAgICAgb3V0LnNob3VsZC5pbmNsdWRlICd0ZXN0J1xuICAgICAgICBvdXQuc2hvdWxkLmluY2x1ZGUgJ2NvbG9yLWxzJ1xuXG4gICAgaXQgJ2NkIGJpbi90ZXN0IGFuZCBscyAuJyAtPlxuICAgICAgICBcbiAgICAgICAgcHJvY2Vzcy5jaGRpciAnLi9iaW4vdGVzdCdcbiAgICAgICAgb3V0ID0gY2xzICcuJ1xuICAgICAgICBvdXQuc2hvdWxkLmluY2x1ZGUgJ01ha2VmaWxlJ1xuICAgICAgICBcbiAgICBpdCAnb2Zmc2V0JyAtPlxuICAgICAgICBcbiAgICAgICAgb3V0ID0gY2xzICcuJywge29mZnNldDp0cnVlfVxuICAgICAgICBvdXQubGluZXMuc2hvdWxkLmluY2x1ZGUgJyAgICAgICAgTWFrZWZpbGUnXG4gICAgICAgIG91dC5saW5lcy5zaG91bGQuaW5jbHVkZSAnICAgICAgICBjb2ZmZWUuY29mZmVlJ1xuICAgIFxuICAgIGl0ICd0cmVlJyAtPiAjIHRvZG86IHRlc3QgZGVwdGhcbiAgICAgICAgXG4gICAgICAgIG91dCA9IGNscyAnYScsIHt0cmVlOnRydWUsIGRlcHRoOjk5fVxuICAgICAgICBvdXRbMV0uc2hvdWxkLmluY2x1ZGUgJ2EnXG4gICAgICAgIG91dFsyXS5zaG91bGQuaW5jbHVkZSAnYS5iLmMnXG4gICAgICAgIG91dFszXS5zaG91bGQuaW5jbHVkZSAnYS50eHQnXG4gICAgICAgIG91dFs0XS5zaG91bGQuaW5jbHVkZSAndHh0LnR4dCcgICAgICAgIFxuICAgICAgICBvdXRbNV0uc2hvdWxkLmluY2x1ZGUgJ2InXG4gICAgICAgIFxuICAgICAgICBpZiBub3Qgc2xhc2gud2luKClcbiAgICAgICAgICAgIG91dFs2XS5zaG91bGQuaW5jbHVkZSAnYi5sbmsg4pa6IGIudHh0J1xuICAgICAgICBcbiAgICBpdCAncmVjdXJzaXZlJyAtPlxuICAgICAgICBcbiAgICAgICAgb3V0ID0gY2xzICdhJywge3JlY3Vyc2U6dHJ1ZSwgZGVwdGg6OTl9XG4gICAgICAgIG91dFsxXS5zaG91bGQuaW5jbHVkZSAn4pa2IGEnXG4gICAgICAgIFxuICAgICAgICBvdXRbM10uc2hvdWxkLmluY2x1ZGUgJ2InXG4gICAgICAgIG91dFs0XS5zaG91bGQuaW5jbHVkZSAnYS5iLmMnXG4gICAgICAgIG91dFs1XS5zaG91bGQuaW5jbHVkZSAnYS50eHQnICAgICAgICBcbiAgICAgICAgb3V0WzZdLnNob3VsZC5pbmNsdWRlICd0eHQudHh0JyAgICAgICAgXG4gICAgICAgIG91dFs4XS5zaG91bGQuaW5jbHVkZSAn4pa2IGEvYidcbiAgICAgICAgXG4gICAgICAgIG91dFsxMF0uc2hvdWxkLmluY2x1ZGUgJ2MnXG4gICAgICAgIFxuICAgICAgICBpZiBub3Qgc2xhc2gud2luKClcbiAgICAgICAgICAgIG91dFsxMV0uc2hvdWxkLmluY2x1ZGUgJ2IubG5rIOKWuiBiLnR4dCdcbiAgICAgICAgXG4gICAgICAgICJdfQ==
//# sourceURL=../coffee/test.coffee